# ESP8266+NRF24LE1 MQTT шлюз и NRF24LE1 беспроводной выключатель для встраивания в livolo и т.п.
![PROJECT_PHOTO](https://raw.githubusercontent.com/alutov/nrf24le1-espnrf_gateway_and_remote_switch_for_livolo_etc/master/other/livolo1.jpg)
![PROJECT_PHOTO](https://raw.githubusercontent.com/alutov/nrf24le1-espnrf_gateway_and_remote_switch_for_livolo_etc/master/other/livolo2.jpg)
![PROJECT_PHOTO](https://raw.githubusercontent.com/alutov/nrf24le1-espnrf_gateway_and_remote_switch_for_livolo_etc/master/other/espnrf3.jpg)
![PROJECT_PHOTO]( https://raw.githubusercontent.com/alutov/nrf24le1-espnrf_gateway_and_remote_switch_for_livolo_etc/master/other/espnrf4.jpg)
### ENG<br>
[Use Google to translate into English.](https://translate.google.com/translate?hl=ru&sl=ru&tl=en&u=https%3A%2F%2Fgithub.com%2Falutov%2Fnrf24le1-espnrf_gateway_and_remote_switch_for_livolo_etc%2Fblob%2Fmaster%2FREADME.md)<br>
### RUS<br>
   Gateway код позволяет использовать ESP8266 и NRF24LE1(espnrf), соединенные между собой по rs232, как шлюз для управления NRF24LE1 клиентом  при помощи MQTT сервера. Соединения на стороне шлюза ESP tx <-> NRF(32pin) p0.4(rx), ESP rx <-> NRF(32pin) p0.3(tx), ESP gpio02 <-> NRF reset. Шлюз опрашивает 16 NRF клиентов, по 4 числовых параметра в каждом. Имя каждого параметра до 32 символов должно быть определено при конфигурации  в espnrf web интерфейсе. Client код позволяет использовать NRF24LE1 как удаленный беспроводной двухканальный выключатель с контролем состояния и управлением как импульсом, так и по протоколу livolo или rcswitch. Первые 2 параметра отражают состояния выключателей (1/0, on/off, true/false), третий параметр используется для вывода температуры с датчика DS18B20 (актуально для встраивания NRF24LE1 в кондиционер), четвертый параметр - напряжение питания NRF24LE1. Использование ассемблера без всяких sdk позволило в клиенте понизить тактовую в частоту в 16 раз(1MHz) , а при генерации RC кода MCU работает на 125 kHz, и соответственно снизить потребление энергии, а в шлюзе свободно вместить в память не только код программы, но и зарезервировать место для обновления кода и для 64 имен параметров. Подробнее в readme_rus.pdf. 
